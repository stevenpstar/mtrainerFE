var v=Math.pow;var S=25,h=.1,f=[],d=0,y;function N(n){f=n,d=0}var b=!1;function B(n,t,a,i,c,u,l){let e=60/i,r=0;u.forEach((o,m)=>x(n,t+(u[m].Beat-1)*e,a,o,e,c)),l()}function p(n,t,a,i,c,u){let l=60/i;b=!0;let e=t+(f[d].Beat-1)*l;n.currentTime+h>=e&&(x(n,e,a,f[d],l,c),d++,d>=f.length&&(A(),u())),b&&(y=setTimeout(()=>p(n,t,a,i,c,u),S))}function A(){clearTimeout(y),d=0,b=!1}function x(n,t,a,i,c,u){let r=.5*(u/100),o=n.createBufferSource(),m=n.createGain();m.gain.setValueAtTime(r,t),o.buffer=a,o.playbackRate.value=I(69,i.MidiNote),o.connect(m).connect(n.destination),o.start(t),m.gain.linearRampToValueAtTime(0,t+i.Duration*c)}function I(n=69,t){return v(2,(t-n)/12)}function P(n,t,a,i){let c=60/i;for(let u=0;u<a;u++){let l=t+c*u,e=t+c*u+.2,r=n.createOscillator(),o=n.createGain();r.frequency.value=u===0?600:500,o.gain.setValueAtTime(.5,l),r.connect(o).connect(n.destination),r.start(l),r.stop(e)}}var M;(l=>{function n(){}l.CreateSinth=n;function t(e,r,o,m,s){p(e,e.currentTime,r,o,m,s)}l.play=t;function a(e,r,o,m,s,T){B(e,e.currentTime,r,o,m,s,T)}l.playFull=a;function i(e,r,o){P(e,e.currentTime,r,o)}l.playMetronome=i;function c(){A()}l.stop=c;function u(e){N(e)}l.initplay=u})(M||(M={}));export{M as Sinth};
//# sourceMappingURL=main.mjs.map